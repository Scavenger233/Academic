# Lec 10 SQL stored procedures
## PSM persistent stored modules
- Procedure(no return value)
  - ```sql
    CREATE PROCEDURE name(parameter list);
    ```
- Function( with a return value)
  - ```sql
    CREATE FUNCTION name(parameter list)
    RETURN type;
    ```
### Parameters in PSM
- mode-name-type triples
- mode can be:
  - IN : uses value, no value change
  - OUT : no use, procedure changes
  - INOUT: both
 
# Involing procedure
```sql
CALL someProcedure;
```

### Statements in PSM
- ```sql
  DECLARE name type;

  DECLARE total INT;
  ```
- ```sql
      CREATE FUNCTION CalculateTotal (price DECIMAL, qty INT) RETURNS DECIMAL
  BEGIN
      DECLARE total DECIMAL;
      SET total = price * qty; -- Multiply price and quantity
      RETURN total; -- Set the return value (but function continues)
  END;

  ```
